# NAS Dashboard - ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰

## ğŸš¨ ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•

### é€±æ¬¡ãƒ¬ãƒãƒ¼ãƒˆã®2é‡é€ä¿¡å•é¡Œ

#### å•é¡Œã®ç—‡çŠ¶
- é€±æ¬¡ãƒ¬ãƒãƒ¼ãƒˆãŒ2é€šé€ä¿¡ã•ã‚Œã‚‹
- é€ä¿¡æ™‚åˆ»ãŒ28ç§’é–“éš”ã§ç•°ãªã‚‹
- ãƒ¬ãƒãƒ¼ãƒˆå†…å®¹ã«å·®ç•°ãŒã‚ã‚‹

#### åŸå› 
- `weekly-report-scheduler`ã‚³ãƒ³ãƒ†ãƒŠã¨APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®ä¸¡æ–¹ãŒå®Ÿè¡Œã•ã‚Œã‚‹
- docker-compose.ymlã§ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼ã‚³ãƒ³ãƒ†ãƒŠãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ã‚‹

#### è§£æ±ºæ–¹æ³•
```bash
# 1. ã‚³ãƒ³ãƒ†ãƒŠã‚’åœæ­¢
docker compose down

# 2. docker-compose.ymlã§ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼ã‚’ç„¡åŠ¹åŒ–
# weekly-report-scheduler: ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆ

# 3. ã‚³ãƒ³ãƒ†ãƒŠã‚’å†èµ·å‹•
docker compose up -d
```

#### ç¢ºèªæ–¹æ³•
```bash
# ç¨¼åƒä¸­ã®ã‚³ãƒ³ãƒ†ãƒŠã‚’ç¢ºèª
docker ps | grep nas-dashboard

# æœŸå¾…ã•ã‚Œã‚‹çµæœï¼ˆnas-dashboard-schedulerãŒå«ã¾ã‚Œã¦ã„ãªã„ï¼‰
# nas-dashboard
# nas-dashboard-monthly-scheduler
```

### æœˆæ¬¡ãƒ¬ãƒãƒ¼ãƒˆãŒé€ä¿¡ã•ã‚Œãªã„

#### ç¢ºèªé …ç›®
1. **ç’°å¢ƒå¤‰æ•°ã®è¨­å®š**
   ```bash
   # å¿…è¦ãªç’°å¢ƒå¤‰æ•°
   MONTHLY_AI_REPORT_ENABLED=true
   GEMINI_API_KEY=your_api_key
   EMAIL_TO=your_email@example.com
   ```

2. **ã‚³ãƒ³ãƒ†ãƒŠã®ç¨¼åƒçŠ¶æ³**
   ```bash
   docker ps | grep monthly-scheduler
   ```

3. **ãƒ­ã‚°ã®ç¢ºèª**
   ```bash
   docker logs nas-dashboard-monthly-scheduler
   ```

### ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã‚¨ãƒ©ãƒ¼

#### ã‚ˆãã‚ã‚‹åŸå› 
- SMTPè¨­å®šã®èª¤ã‚Š
- èªè¨¼æƒ…å ±ã®ä¸å‚™
- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šã®å•é¡Œ

#### ç¢ºèªæ–¹æ³•
```bash
# ãƒ¡ãƒ¼ãƒ«è¨­å®šã®ãƒ†ã‚¹ãƒˆ
curl -X POST http://localhost:9001/api/email/test \
  -H 'Content-Type: application/json'
```

### Dockerã‚³ãƒ³ãƒ†ãƒŠãŒèµ·å‹•ã—ãªã„

#### ç¢ºèªé …ç›®
1. **ãƒãƒ¼ãƒˆã®ç«¶åˆ**
   ```bash
   # ãƒãƒ¼ãƒˆ9001ãŒä½¿ç”¨ä¸­ã‹ãƒã‚§ãƒƒã‚¯
   netstat -tulpn | grep 9001
   ```

2. **ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡**
   ```bash
   df -h
   ```

3. **Dockerã‚µãƒ¼ãƒ“ã‚¹**
   ```bash
   systemctl status docker
   ```

### ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œãªã„

#### ç¢ºèªé …ç›®
1. **ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã®å­˜åœ¨**
   ```bash
   ls -la ~/nas-project-data/nas-dashboard/logs/
   ```

2. **æ¨©é™ã®ç¢ºèª**
   ```bash
   # ãƒ­ã‚°ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æ¨©é™
   ls -la ~/nas-project-data/nas-dashboard/
   ```

3. **ãƒã‚¦ãƒ³ãƒˆè¨­å®š**
   ```bash
   # docker-compose.ymlã®volumesè¨­å®šã‚’ç¢ºèª
   cat docker-compose.yml | grep -A 10 volumes
   ```

## ğŸ”§ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚³ãƒãƒ³ãƒ‰

### ã‚³ãƒ³ãƒ†ãƒŠã®å†èµ·å‹•
```bash
# å…¨ã‚³ãƒ³ãƒ†ãƒŠã‚’å†èµ·å‹•
docker compose restart

# ç‰¹å®šã®ã‚³ãƒ³ãƒ†ãƒŠã‚’å†èµ·å‹•
docker restart nas-dashboard
```

### ãƒ­ã‚°ã®ç¢ºèª
```bash
# ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ­ã‚°
docker logs -f nas-dashboard

# æœ€æ–°100è¡Œã®ãƒ­ã‚°
docker logs --tail 100 nas-dashboard
```

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒªã‚»ãƒƒãƒˆ
```bash
# SQLiteãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ãƒªã‚»ãƒƒãƒˆ
rm ~/nas-project-data/nas-dashboard/data.db
docker compose restart
```

### ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®ä½œæˆ
```bash
# ãƒ‡ãƒ¼ã‚¿ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
tar -czf nas-dashboard-backup-$(date +%Y%m%d_%H%M%S).tar.gz \
  ~/nas-project-data/nas-dashboard/
```

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

å•é¡ŒãŒè§£æ±ºã—ãªã„å ´åˆã¯ã€ä»¥ä¸‹ã®æƒ…å ±ã‚’å«ã‚ã¦å ±å‘Šã—ã¦ãã ã•ã„ï¼š

1. **ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**
2. **ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«**
3. **ç’°å¢ƒæƒ…å ±**ï¼ˆOSã€Dockerãƒãƒ¼ã‚¸ãƒ§ãƒ³ç­‰ï¼‰
4. **å®Ÿè¡Œã—ãŸã‚³ãƒãƒ³ãƒ‰**
5. **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**

## ğŸ”„ æ›´æ–°å±¥æ­´

- **2025-10-27**: é€±æ¬¡ãƒ¬ãƒãƒ¼ãƒˆ2é‡é€ä¿¡å•é¡Œã®è§£æ±ºæ–¹æ³•ã‚’è¿½åŠ 
