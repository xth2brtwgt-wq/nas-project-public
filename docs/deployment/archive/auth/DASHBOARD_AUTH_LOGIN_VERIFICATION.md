# âœ… ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰èªè¨¼ ãƒ­ã‚°ã‚¤ãƒ³ç¢ºèªæ‰‹é †

**ä½œæˆæ—¥**: 2025-11-04  
**ç›®çš„**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆå¾Œã®ãƒ­ã‚°ã‚¤ãƒ³å‹•ä½œç¢ºèª

---

## âœ… ã‚¹ãƒ†ãƒƒãƒ—1: æœ€æ–°ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—ã—ã¦å†èµ·å‹•

```bash
cd ~/nas-project/nas-dashboard
git pull origin feature/monitoring-fail2ban-integration
sudo docker compose restart nas-dashboard
```

---

## âœ… ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ­ã‚°ã‚¤ãƒ³ã‚’è©¦è¡Œ

### ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¢ã‚¯ã‚»ã‚¹

1. **å¤–éƒ¨ã‚¢ã‚¯ã‚»ã‚¹**:
   - URL: `https://yoshi-nas-sys.duckdns.org:8443/`
   - ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

2. **å†…éƒ¨ã‚¢ã‚¯ã‚»ã‚¹**:
   - URL: `http://192.168.68.110:9001/`
   - ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

### ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±

- **ãƒ¦ãƒ¼ã‚¶ãƒ¼å**: `admin`
- **ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰**: `Tsuj!o828`

---

## âœ… ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ­ã‚°ã‚’ç¢ºèª

ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ãƒ­ã‚°ã‚’ç¢ºèªã—ãªãŒã‚‰ãƒ­ã‚°ã‚¤ãƒ³ã‚’è©¦è¡Œï¼š

```bash
cd ~/nas-project/nas-dashboard
sudo docker compose logs -f nas-dashboard
```

### æœŸå¾…ã•ã‚Œã‚‹ãƒ­ã‚°

ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸæ™‚ï¼š

```
[AUTH] ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ: admin, çŠ¶æ…‹: æœ‰åŠ¹
[AUTH] ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æ¤œè¨¼çµæœ: True
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã—ãŸ: admin (user_id: 1)
```

ãƒ­ã‚°ã‚¤ãƒ³å¤±æ•—æ™‚ï¼š

```
[AUTH] ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“: admin
```

ã¾ãŸã¯

```
[AUTH] ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ: admin, çŠ¶æ…‹: æœ‰åŠ¹
[AUTH] ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æ¤œè¨¼çµæœ: False
ãƒ­ã‚°ã‚¤ãƒ³å¤±æ•—: admin
```

---

## âœ… ã‚¹ãƒ†ãƒƒãƒ—4: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰è¡¨ç¤ºç¢ºèª

ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸå¾Œã€ä»¥ä¸‹ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªï¼š

1. **ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ç”»é¢**ãŒè¡¨ç¤ºã•ã‚Œã‚‹
2. **ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼**ã«ä»¥ä¸‹ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼š
   - ã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ã€ãƒªãƒ³ã‚¯
   - ã€Œãƒ­ã‚°ã‚¢ã‚¦ãƒˆ (admin)ã€ãƒªãƒ³ã‚¯
3. **ã‚µãƒ¼ãƒ“ã‚¹ä¸€è¦§**ãŒè¡¨ç¤ºã•ã‚Œã‚‹
4. **ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹**ãŒè¡¨ç¤ºã•ã‚Œã‚‹

---

## âœ… ã‚¹ãƒ†ãƒƒãƒ—5: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ç”»é¢ã®ç¢ºèª

1. **ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼**ã®ã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
2. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§**ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªï¼š
   - `admin` ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹
   - çŠ¶æ…‹: æœ‰åŠ¹
   - ä½œæˆæ—¥æ™‚ãŒè¡¨ç¤ºã•ã‚Œã‚‹

---

## âœ… ã‚¹ãƒ†ãƒƒãƒ—6: ãƒ­ã‚°ã‚¢ã‚¦ãƒˆæ©Ÿèƒ½ã®ç¢ºèª

1. **ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼**ã®ã€Œãƒ­ã‚°ã‚¢ã‚¦ãƒˆ (admin)ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
2. **ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸**ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
3. å†åº¦ãƒ­ã‚°ã‚¤ãƒ³ã§ãã‚‹ã“ã¨ã‚’ç¢ºèª

---

## ğŸ“ ç¢ºèªé …ç›®

- [ ] æœ€æ–°ã‚³ãƒ¼ãƒ‰ã‚’pullã—ã¦å†èµ·å‹•ã—ãŸ
- [ ] ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ãƒ­ã‚°ã‚¤ãƒ³ã«æˆåŠŸã™ã‚‹
- [ ] ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼ã«ã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ã€ã¨ã€Œãƒ­ã‚°ã‚¢ã‚¦ãƒˆã€ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ãƒ­ã‚°ã‚¢ã‚¦ãƒˆæ©Ÿèƒ½ãŒå‹•ä½œã™ã‚‹

---

## ğŸ” ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒ­ã‚°ã‚¤ãƒ³å¤±æ•—ã™ã‚‹å ´åˆ

1. **ãƒ­ã‚°ã‚’ç¢ºèª**:
   ```bash
   sudo docker compose logs nas-dashboard | grep -A 5 "ãƒ­ã‚°ã‚¤ãƒ³"
   ```

2. **ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’ç¢ºèª**:
   ```bash
   sudo docker compose exec nas-dashboard python -c "
   import sys
   sys.path.insert(0, '/nas-project/nas-dashboard')
   from utils.auth_db import get_all_users
   
   users = get_all_users()
   for user in users:
       print(f'{user[\"username\"]} (ID: {user[\"id\"]}, çŠ¶æ…‹: {\"æœ‰åŠ¹\" if user[\"is_active\"] else \"ç„¡åŠ¹\"})')
   "
   ```

3. **ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æ¤œè¨¼ã‚’ãƒ†ã‚¹ãƒˆ**:
   ```bash
   sudo docker compose exec nas-dashboard python -c "
   import sys
   sys.path.insert(0, '/nas-project/nas-dashboard')
   from utils.auth_db import get_user_by_username, verify_password
   
   username = 'admin'
   password = 'Tsuj!o828'
   
   user = get_user_by_username(username)
   if user:
       is_valid = verify_password(password, user['password_hash'])
       print(f'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æ¤œè¨¼çµæœ: {is_valid}')
   else:
       print('ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“')
   "
   ```

### ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œãªã„å ´åˆ

1. **ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒèµ·å‹•ã—ã¦ã„ã‚‹ã‹ç¢ºèª**:
   ```bash
   sudo docker compose ps nas-dashboard
   ```

2. **ã‚³ãƒ³ãƒ†ãƒŠã‚’å†èµ·å‹•**:
   ```bash
   sudo docker compose restart nas-dashboard
   ```

3. **ãƒ­ã‚°ã‚’ç¢ºèª**:
   ```bash
   sudo docker compose logs nas-dashboard | tail -50
   ```

---

**ä½œæˆæ—¥**: 2025-11-04  
**æ›´æ–°æ—¥**: 2025-11-04  
**ä½œæˆè€…**: AI Assistant

